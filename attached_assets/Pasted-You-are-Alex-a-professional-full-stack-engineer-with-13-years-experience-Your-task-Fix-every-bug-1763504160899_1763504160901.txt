You are Alex, a professional full-stack engineer with 13+ years experience.
Your task: Fix every bug and complete every missing piece across this Next.js 15 TypeScript portfolio project so the codebase exactly matches the JSON-driven architecture and types. Work at the file-level: return complete file contents for every file you change. Do not ask the user for more context — make reasonable assumptions when necessary and document them. Commit-style messages must be included at the end of each file change.

Project goals (must be satisfied)

All pages render server-side (SSR) by reading content.json via route.ts or server loader. No hard-coded text in components — everything comes from content.json.

Type-safety: the content.types.ts you already have must be the single source of truth for content types. All imports must use these types. Fix any typing issues.

Section/component system must work: one section-registry and component-registry that render sections and their inner components. Sections in JSON map to section wrappers, and components[] inside each section map to dynamic component renderers.

Multilanguage (fr/en): instant switch without page reload using a global state (React Context or Zustand). All text, meta tags, buttons, and form labels must read from content.json through typed helpers. Default language is fr.

Projects page: homepage shows 3 featured projects + “Show More” button. Projects page supports filtering and sorting (newest/oldest/name). Images use Next.js Image.

Contact form: validated, submits to an API route. CV request detection sends a notification email (do NOT auto-send CV file) and logs action to Telegram. Include resend/retry UI.

Logging: tracked actions (lang change, show more, button clicks, form submissions) are posted to Telegram via TELEGRAM_BOT_TOKEN & TELEGRAM_CHAT_ID in .env. Keep logs anonymous.

Animations & Loading: Framer Motion-based loading animation and section entrance animations. Show skeletons while data loads.

SSR-safe: no client-only code at top-level that breaks SSR (wrap with "use client" only where needed).

Provide .env.example and explain what to fill. Provide clear commit messages for each change.

What to fix (explicit list)

src/lib/section-registry.ts — fix typing, registry pattern, dynamic component rendering, SSR-safe keys.

src/types/content.types.ts — ensure exports and names match imports. Export all relevant types (ContentJSON, Page, Section, Component types).

src/lib/content.loader.ts — create server-side loader getContent(lang?: SupportedLanguage) that reads content.json from disk and returns typed ContentJSON. Support optional cache revalidation and error fallbacks.

src/app/route.ts or server route.ts loader per-page — add example SSR usage that injects content into page components.

src/lib/i18n.tsx — implement language context provider (or Zustand store) with useLanguage() hook and LanguageToggle component. The toggle must switch text instantly without full reload.

src/components/sections/* — fix HeroSection, ProjectsSection, SkillsSection, AboutSection, ContactSection to accept typed props and render components[] using registries.

src/components/dynamic/* — fix or create HeroComponent, SkillsGrid, ProjectGrid, AboutComponent, ContactForm to accept variables typed by content.types.ts.

src/app/(pages)/page.tsx and /about/page.tsx, /projects/page.tsx, /projects/[slug]/page.tsx, /contact/page.tsx — ensure SSR usage, call server loader, pass typed data into sections, and render renderSections() result.

src/app/api/contact/route.ts — server API: validate input, send email via Resend (or fallback node mailer) using RESEND_API_KEY or provided ENV, send notification to admin, log to Telegram. Ensure security: rate-limit comments or note rate-limiting in comments.

src/app/api/logs/route.ts — API route to accept anonymized logs and forward to Telegram (or store). Provide example usage from client.

src/lib/email.ts — implement small wrapper for sending emails using Resend (if env present) or nodemailer fallback. Export sendEmail and emailTemplates.

src/lib/telegram.ts — implement sendTelegramLog({event, meta}) that posts to Telegram using bot token + chat id from env.

src/hooks/useContent.ts — client hook (useSWR) for client-side updates, also support server props initial data.

src/components/ui/Loading.tsx — create loading animation using Framer Motion and Tailwind.

src/components/ui/Skeleton.tsx — skeleton loader for cards and project list.

Replace all plain <img> with Next.js <Image> with appropriate width/height or fill and priority on hero.

Add ARIA/accessibility props to forms and buttons.

Add minimal unit tests (Jest/RTL) for section-registry, content.loader, and Contact API (mocked).

Update package.json scripts if needed: dev, build, start, test, lint.

Behavior & constraints for the AI fixer

For each file changed, output the full file path and the complete file contents (no partial snippets).

After each file content, include a one-line commit message describing the change (for example: git commit -m "fix: add typed content loader and SSR getContent()").

If you create new files, list them under New Files. If you modify existing files, list them under Modified Files.

Provide a short validation checklist at the end: commands to run locally to verify (example: pnpm install, pnpm dev, pnpm test), and what to look for in the browser (language toggle works instantly, projects show 3 featured, contact submits, logs appear in Telegram).

If you make any assumptions (e.g., where content.json lives), explicitly list them. Reasonable assumption: content.json located at project root src/data/content.json or public/content.json. Use src/data/content.json by default.

.env.example (must be created)

Create .env.example file contents with placeholders:

# Site
NEXT_PUBLIC_SITE_URL=https://your-domain.com

# Email (Resend)
RESEND_API_KEY=re_your_api_key_here
EMAIL_FROM="Your Name <noreply@yourdomain.com>"
CONTACT_EMAIL=your-email@example.com

# Telegram logging
TELEGRAM_BOT_TOKEN=123456:ABC-DEF1234ghIkl-zyx57W2v1u123ew11
TELEGRAM_CHAT_ID=123456789

# Next
NEXT_PUBLIC_DEFAULT_LANG=fr


Include a one-line commit message.

Final output format (strict)

For each file changed:

=== New File: <path> === or === Modified File: <path> ===

Full file contents in fenced code block.

Commit: followed by a git-style commit message.

After all files: a Validation checklist with commands and expected results and any final notes/assumptions.

Extra points (if you implement)

Provide simple README.md updates explaining how to run, where to add content.json, how to fill .env.local and how Telegram logs look.

Provide minimal Jest tests for section-registry and content.loader.

Add TypeScript zod schema to validate content.json at runtime and fail fast on server.

You must now begin. Start by fixing the core server loader, content types, and section-registry so pages render without errors. Output the modified/new files and commit messages as required. Do not stop until the core flow (SSR loader → pages → sections → components → contact API → Telegram logs) is fully implemented and clearly verifiable.